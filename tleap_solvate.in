source leaprc.protein.ff14SB
source oldff/leaprc.ff14SB
source leaprc.water.tip3p
source leaprc.gaff
loadamberprep ../ligand_preparation/R7D.prepc
loadamberparams ../ligand_preparation/R7D.frcmod


mol = loadpdb ../6vpl_for_tleap.pdb
check mol

#save parm & crd of unsolvated system with PyMOL compatible extensions
saveamberparm mol 6vpl.dry.top 6vpl.dry.rst
savepdb mol 6vpl.dry.pdb

#load the crystal waters
xwat = loadpdb ../wat_6vpl.pdb
mol_xwat = combine {mol xwat}

#solvate
solvatebox mol_xwat TIP3PBOX 11.0 0.9

#neutralize
addionsrand mol_xwat Cl- 6 

# save parm & crd of solvated system with PyMOL compatible extensions
saveamberparm mol_xwat 6vpl.solv.top 6vpl.solv.rst
savepdb mol_xwat 6vpl.solv.pdb

quit

